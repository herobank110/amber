!function(){/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.19.0
 * @author George Michael Brower
 * @license MIT
 *//**
 * Base class for all controllers.
 */function e(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i,r=l(e);if(t){var a=l(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return(n=i)&&("object"===o(n)||"function"==typeof n)?n:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}}var u=/*#__PURE__*/function(){function t(n,i,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"div";e(this,t),/**
		 * The GUI that contains this controller.
		 * @type {GUI}
		 */this.parent=n,/**
		 * The object this controller will modify.
		 * @type {object}
		 */this.object=i,/**
		 * The name of the property to control.
		 * @type {string}
		 */this.property=r,/**
		 * Used to determine if the controller is disabled.
		 * Use `controller.disable( true|false )` to modify this value.
		 * @type {boolean}
		 */this._disabled=!1,/**
		 * Used to determine if the Controller is hidden.
		 * Use `controller.show()` or `controller.hide()` to change this.
		 * @type {boolean}
		 */this._hidden=!1,/**
		 * The value of `object[ property ]` when the controller was created.
		 * @type {any}
		 */this.initialValue=this.getValue(),/**
		 * The outermost container DOM element for this controller.
		 * @type {HTMLElement}
		 */this.domElement=document.createElement(o),this.domElement.classList.add("controller"),this.domElement.classList.add(a),/**
		 * The DOM element that contains the controller's name.
		 * @type {HTMLElement}
		 */this.$name=document.createElement("div"),this.$name.classList.add("name"),t.nextNameID=t.nextNameID||0,this.$name.id="lil-gui-name-".concat(++t.nextNameID),/**
		 * The DOM element that contains the controller's "widget" (which differs by controller type).
		 * @type {HTMLElement}
		 */this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),/**
		 * The DOM element that receives the disabled attribute when using disable().
		 * @type {HTMLElement}
		 */this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),// Don't fire global key events while typing in a controller
this.domElement.addEventListener("keydown",function(e){return e.stopPropagation()}),this.domElement.addEventListener("keyup",function(e){return e.stopPropagation()}),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(r)}return n(t,[{/**
	 * Sets the name of the controller and its label in the GUI.
	 * @param {string} name
	 * @returns {this}
	 */key:"name",value:function(e){return(/**
		 * The controller's name. Use `controller.name( 'Name' )` to modify this value.
		 * @type {string}
		 */this._name=e,this.$name.innerHTML=e,this)}},{/**
	 * Pass a function to be called whenever the value is modified by this controller.
	 * The function receives the new value as its first parameter. The value of `this` will be the
	 * controller.
	 *
	 * For function controllers, the `onChange` callback will be fired on click, after the function
	 * executes.
	 * @param {Function} callback
	 * @returns {this}
	 * @example
	 * const controller = gui.add( object, 'property' );
	 *
	 * controller.onChange( function( v ) {
	 * 	console.log( 'The value is now ' + v );
	 * 	console.assert( this === controller );
	 * } );
	 */key:"onChange",value:function(e){return(/**
		 * Used to access the function bound to `onChange` events. Don't modify this value directly.
		 * Use the `controller.onChange( callback )` method instead.
		 * @type {Function}
		 */this._onChange=e,this)}},{/**
	 * Calls the onChange methods of this controller and its parent GUI.
	 * @protected
	 */key:"_callOnChange",value:function(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}},{/**
	 * Pass a function to be called after this controller has been modified and loses focus.
	 * @param {Function} callback
	 * @returns {this}
	 * @example
	 * const controller = gui.add( object, 'property' );
	 *
	 * controller.onFinishChange( function( v ) {
	 * 	console.log( 'Changes complete: ' + v );
	 * 	console.assert( this === controller );
	 * } );
	 */key:"onFinishChange",value:function(e){return(/**
		 * Used to access the function bound to `onFinishChange` events. Don't modify this value
		 * directly. Use the `controller.onFinishChange( callback )` method instead.
		 * @type {Function}
		 */this._onFinishChange=e,this)}},{/**
	 * Should be called by Controller when its widgets lose focus.
	 * @protected
	 */key:"_callOnFinishChange",value:function(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}},{/**
	 * Sets the controller back to its initial value.
	 * @returns {this}
	 */key:"reset",value:function(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}},{/**
	 * Enables this controller.
	 * @param {boolean} enabled
	 * @returns {this}
	 * @example
	 * controller.enable();
	 * controller.enable( false ); // disable
	 * controller.enable( controller._disabled ); // toggle
	 */key:"enable",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this.disable(!e)}},{/**
	 * Disables this controller.
	 * @param {boolean} disabled
	 * @returns {this}
	 * @example
	 * controller.disable();
	 * controller.disable( false ); // enable
	 * controller.disable( !controller._disabled ); // toggle
	 */key:"disable",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}},{/**
	 * Shows the Controller after it's been hidden.
	 * @param {boolean} show
	 * @returns {this}
	 * @example
	 * controller.show();
	 * controller.show( false ); // hide
	 * controller.show( controller._hidden ); // toggle
	 */key:"show",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}},{/**
	 * Hides the Controller.
	 * @returns {this}
	 */key:"hide",value:function(){return this.show(!1)}},{/**
	 * Changes this controller into a dropdown of options.
	 *
	 * Calling this method on an option controller will simply update the options. However, if this
	 * controller was not already an option controller, old references to this controller are
	 * destroyed, and a new controller is added to the end of the GUI.
	 * @example
	 * // safe usage
	 *
	 * gui.add( obj, 'prop1' ).options( [ 'a', 'b', 'c' ] );
	 * gui.add( obj, 'prop2' ).options( { Big: 10, Small: 1 } );
	 * gui.add( obj, 'prop3' );
	 *
	 * // danger
	 *
	 * const ctrl1 = gui.add( obj, 'prop1' );
	 * gui.add( obj, 'prop2' );
	 *
	 * // calling options out of order adds a new controller to the end...
	 * const ctrl2 = ctrl1.options( [ 'a', 'b', 'c' ] );
	 *
	 * // ...and ctrl1 now references a controller that doesn't exist
	 * assert( ctrl2 !== ctrl1 )
	 * @param {object|Array} options
	 * @returns {Controller}
	 */key:"options",value:function(e){var t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}},{/**
	 * Sets the minimum value. Only works on number controllers.
	 * @param {number} min
	 * @returns {this}
	 */key:"min",value:function(e){return this}},{/**
	 * Sets the maximum value. Only works on number controllers.
	 * @param {number} max
	 * @returns {this}
	 */key:"max",value:function(e){return this}},{/**
	 * Values set by this controller will be rounded to multiples of `step`. Only works on number
	 * controllers.
	 * @param {number} step
	 * @returns {this}
	 */key:"step",value:function(e){return this}},{/**
	 * Rounds the displayed value to a fixed number of decimals, without affecting the actual value
	 * like `step()`. Only works on number controllers.
	 * @example
	 * gui.add( object, 'property' ).listen().decimals( 4 );
	 * @param {number} decimals
	 * @returns {this}
	 */key:"decimals",value:function(e){return this}},{/**
	 * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.
	 * @param {boolean} listen
	 * @returns {this}
	 */key:"listen",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(/**
		 * Used to determine if the controller is currently listening. Don't modify this value
		 * directly. Use the `controller.listen( true|false )` method instead.
		 * @type {boolean}
		 */this._listening=e,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this)}},{key:"_listenCallback",value:function(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);// To prevent framerate loss, make sure the value has changed before updating the display.
// Note: save() is used here instead of getValue() only because of ColorController. The !== operator
// won't work for color objects or arrays, but ColorController.save() always returns a string.
var e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}},{/**
	 * Returns `object[ property ]`.
	 * @returns {any}
	 */key:"getValue",value:function(){return this.object[this.property]}},{/**
	 * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.
	 * @param {any} value
	 * @returns {this}
	 */key:"setValue",value:function(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}},{/**
	 * Updates the display to keep it in sync with the current value. Useful for updating your
	 * controllers when their values have been modified outside of the GUI.
	 * @returns {this}
	 */key:"updateDisplay",value:function(){return this}},{key:"load",value:function(e){return this.setValue(e),this._callOnFinishChange(),this}},{key:"save",value:function(){return this.getValue()}},{/**
	 * Destroys this controller and removes it from the parent GUI.
	 */key:"destroy",value:function(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}]),t}(),c=/*#__PURE__*/function(t){r(a,t);var i=s(a);function a(t,n,r){var o;return e(this,a),(o=i.call(this,t,n,r,"boolean","label")).$input=document.createElement("input"),o.$input.setAttribute("type","checkbox"),o.$input.setAttribute("aria-labelledby",o.$name.id),o.$widget.appendChild(o.$input),o.$input.addEventListener("change",function(){o.setValue(o.$input.checked),o._callOnFinishChange()}),o.$disable=o.$input,o.updateDisplay(),o}return n(a,[{key:"updateDisplay",value:function(){return this.$input.checked=this.getValue(),this}}]),a}(u);function h(e){var t,n;return(t=e.match(/(#|0x)?([a-f0-9]{6})/i))?n=t[2]:(t=e.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=e.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),!!n&&"#"+n}var d={isPrimitive:!0,match:function(e){return"number"==typeof e},fromHexString:function(e){return parseInt(e.substring(1),16)},toHexString:function(e){return"#"+e.toString(16).padStart(6,0)}},m=[{isPrimitive:!0,match:function(e){return"string"==typeof e},fromHexString:h,toHexString:h},d,{isPrimitive:!1,// The arrow function is here to appease tree shakers like esbuild or webpack.
// See https://esbuild.github.io/api/#tree-shaking
match:function(e){return Array.isArray(e)},fromHexString:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=d.fromHexString(e);t[0]=(i>>16&255)/255*n,t[1]=(i>>8&255)/255*n,t[2]=(255&i)/255*n},toHexString:function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,i,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw i}}return a}}(e,3)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1],r=t[2],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=n*(o=255/o)<<16^i*o<<8^r*o<<0;return d.toHexString(l)}},{isPrimitive:!1,match:function(e){return Object(e)===e},fromHexString:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=d.fromHexString(e);t.r=(i>>16&255)/255*n,t.g=(i>>8&255)/255*n,t.b=(255&i)/255*n},toHexString:function(e){var t=e.r,n=e.g,i=e.b,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t*(r=255/r)<<16^n*r<<8^i*r<<0;return d.toHexString(a)}}],p=/*#__PURE__*/function(t){r(a,t);var i=s(a);function a(t,n,r,o){var l,s;return e(this,a),(l=i.call(this,t,n,r,"color")).$input=document.createElement("input"),l.$input.setAttribute("type","color"),l.$input.setAttribute("tabindex",-1),l.$input.setAttribute("aria-labelledby",l.$name.id),l.$text=document.createElement("input"),l.$text.setAttribute("type","text"),l.$text.setAttribute("spellcheck","false"),l.$text.setAttribute("aria-labelledby",l.$name.id),l.$display=document.createElement("div"),l.$display.classList.add("display"),l.$display.appendChild(l.$input),l.$widget.appendChild(l.$display),l.$widget.appendChild(l.$text),l._format=(s=l.initialValue,m.find(function(e){return e.match(s)})),l._rgbScale=o,l._initialValueHexString=l.save(),l._textFocused=!1,l.$input.addEventListener("input",function(){l._setValueFromHexString(l.$input.value)}),l.$input.addEventListener("blur",function(){l._callOnFinishChange()}),l.$text.addEventListener("input",function(){var e=h(l.$text.value);e&&l._setValueFromHexString(e)}),l.$text.addEventListener("focus",function(){l._textFocused=!0,l.$text.select()}),l.$text.addEventListener("blur",function(){l._textFocused=!1,l.updateDisplay(),l._callOnFinishChange()}),l.$disable=l.$text,l.updateDisplay(),l}return n(a,[{key:"reset",value:function(){return this._setValueFromHexString(this._initialValueHexString),this}},{key:"_setValueFromHexString",value:function(e){if(this._format.isPrimitive){var t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}},{key:"save",value:function(){return this._format.toHexString(this.getValue(),this._rgbScale)}},{key:"load",value:function(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}},{key:"updateDisplay",value:function(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}]),a}(u),f=/*#__PURE__*/function(t){r(i,t);var n=s(i);function i(t,r,a){var o;return e(this,i),// Buttons are the only case where widget contains name
(o=n.call(this,t,r,a,"function")).$button=document.createElement("button"),o.$button.appendChild(o.$name),o.$widget.appendChild(o.$button),o.$button.addEventListener("click",function(e){e.preventDefault(),o.getValue().call(o.object),o._callOnChange()}),// enables :active pseudo class on mobile
o.$button.addEventListener("touchstart",function(){},{passive:!0}),o.$disable=o.$button,o}return i}(u),g=/*#__PURE__*/function(t){r(a,t);var i=s(a);function a(t,n,r,o,l,s){e(this,a),(u=i.call(this,t,n,r,"number"))._initInput(),u.min(o),u.max(l);var u,c=void 0!==s;return u.step(c?s:u._getImplicitStep(),c),u.updateDisplay(),u}return n(a,[{key:"decimals",value:function(e){return this._decimals=e,this.updateDisplay(),this}},{key:"min",value:function(e){return this._min=e,this._onUpdateMinMax(),this}},{key:"max",value:function(e){return this._max=e,this._onUpdateMinMax(),this}},{key:"step",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this._step=e,this._stepExplicit=t,this}},{key:"updateDisplay",value:function(){var e=this.getValue();if(this._hasSlider){var t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=100*t+"%"}return this._inputFocused||(this.$input.value=void 0===this._decimals?e:e.toFixed(this._decimals)),this}},{key:"_initInput",value:function(){var e=this;this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;// Keys & mouse wheel
// ---------------------------------------------------------------------
var t,n,i,r,a,o=function(t){var n=parseFloat(e.$input.value);isNaN(n)||(e._snapClampSetValue(n+t),// Force the input to updateDisplay when it's focused
e.$input.value=e.getValue())},l=!1,s=function(o){if(l){var s=o.clientX-t;Math.abs(o.clientY-n)>5?(o.preventDefault(),e.$input.blur(),l=!1,e._setDraggingStyle(!0,"vertical")):Math.abs(s)>5&&u()}// This isn't an else so that the first move counts towards dragDelta
if(!l){var c=o.clientY-i;a-=c*e._step*e._arrowKeyMultiplier(o),r+a>e._max?a=e._max-r:r+a<e._min&&(a=e._min-r),e._snapClampSetValue(r+a)}i=o.clientY},u=function(){e._setDraggingStyle(!1,"vertical"),e._callOnFinishChange(),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",u)};this.$input.addEventListener("input",function(){var t=parseFloat(e.$input.value);isNaN(t)||(e._stepExplicit&&(t=e._snap(t)),e.setValue(e._clamp(t)))}),this.$input.addEventListener("keydown",function(t){"Enter"===t.key&&e.$input.blur(),"ArrowUp"===t.code&&(t.preventDefault(),o(e._step*e._arrowKeyMultiplier(t))),"ArrowDown"===t.code&&(t.preventDefault(),o(-(e._step*e._arrowKeyMultiplier(t)*1)))}),this.$input.addEventListener("wheel",function(t){e._inputFocused&&(t.preventDefault(),o(e._step*e._normalizeMouseWheel(t)))},{passive:!1}),this.$input.addEventListener("mousedown",function(o){t=o.clientX,n=i=o.clientY,l=!0,r=e.getValue(),a=0,window.addEventListener("mousemove",s),window.addEventListener("mouseup",u)}),this.$input.addEventListener("focus",function(){e._inputFocused=!0}),this.$input.addEventListener("blur",function(){e._inputFocused=!1,e.updateDisplay(),e._callOnFinishChange()})}},{key:"_initSlider",value:function(){var e,t=this;this._hasSlider=!0,// Build DOM
// ---------------------------------------------------------------------
this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");var n,i,r=function(e){var n,i,r,a=t.$slider.getBoundingClientRect(),o=(n=a.left,i=a.right,r=t._min,(e-n)/(i-n)*(t._max-r)+r);t._snapClampSetValue(o)},a=function(e){r(e.clientX)},o=function(){t._callOnFinishChange(),t._setDraggingStyle(!1),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",o)},l=!1,s=function(e){e.preventDefault(),t._setDraggingStyle(!0),r(e.touches[0].clientX),l=!1},u=function(e){l?Math.abs(e.touches[0].clientX-n)>Math.abs(e.touches[0].clientY-i)?s(e):(// This was, in fact, an attempt to scroll. Abort.
window.removeEventListener("touchmove",u),window.removeEventListener("touchend",c)):(e.preventDefault(),r(e.touches[0].clientX))},c=function(){t._callOnFinishChange(),t._setDraggingStyle(!1),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",c)},h=this._callOnFinishChange.bind(this);this.$slider.addEventListener("mousedown",function(e){t._setDraggingStyle(!0),r(e.clientX),window.addEventListener("mousemove",a),window.addEventListener("mouseup",o)}),this.$slider.addEventListener("touchstart",function(e){e.touches.length>1||(t._hasScrollBar?(n=e.touches[0].clientX,i=e.touches[0].clientY,l=!0):s(e),window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",c))},{passive:!1}),this.$slider.addEventListener("wheel",function(n){if(!(Math.abs(n.deltaX)<Math.abs(n.deltaY))||!t._hasScrollBar){n.preventDefault();// set value
var i=t._normalizeMouseWheel(n)*t._step;t._snapClampSetValue(t.getValue()+i),// force the input to updateDisplay when it's focused
t.$input.value=t.getValue(),// debounce onFinishChange
clearTimeout(e),e=setTimeout(h,400)}},{passive:!1})}},{key:"_setDraggingStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal";this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle("lil-gui-".concat(t),e)}},{key:"_getImplicitStep",value:function(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}},{key:"_onUpdateMinMax",value:function(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}},{key:"_normalizeMouseWheel",value:function(e){var t=e.deltaX,n=e.deltaY;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120*(this._stepExplicit?1:10)),t+-n}},{key:"_arrowKeyMultiplier",value:function(e){var t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}},{key:"_snap",value:function(e){return parseFloat((Math.round(e/this._step)*this._step).toPrecision(15))}},{key:"_clamp",value:function(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}},{key:"_snapClampSetValue",value:function(e){this.setValue(this._clamp(this._snap(e)))}},{key:"_hasScrollBar",get:function(){var e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}},{key:"_hasMin",get:function(){return void 0!==this._min}},{key:"_hasMax",get:function(){return void 0!==this._max}}]),a}(u),v=/*#__PURE__*/function(t){r(a,t);var i=s(a);function a(t,n,r,o){var l;return e(this,a),(l=i.call(this,t,n,r,"option")).$select=document.createElement("select"),l.$select.setAttribute("aria-labelledby",l.$name.id),l.$display=document.createElement("div"),l.$display.classList.add("display"),l.$select.addEventListener("change",function(){l.setValue(l._values[l.$select.selectedIndex]),l._callOnFinishChange()}),l.$select.addEventListener("focus",function(){l.$display.classList.add("focus")}),l.$select.addEventListener("blur",function(){l.$display.classList.remove("focus")}),l.$widget.appendChild(l.$select),l.$widget.appendChild(l.$display),l.$disable=l.$select,l.options(o),l}return n(a,[{key:"options",value:function(e){var t=this;return this._values=Array.isArray(e)?e:Object.values(e),this._names=Array.isArray(e)?e:Object.keys(e),this.$select.replaceChildren(),this._names.forEach(function(e){var n=document.createElement("option");n.innerHTML=e,t.$select.appendChild(n)}),this.updateDisplay(),this}},{key:"updateDisplay",value:function(){var e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=-1===t?e:this._names[t],this}}]),a}(u),y=/*#__PURE__*/function(t){r(a,t);var i=s(a);function a(t,n,r){var o;return e(this,a),(o=i.call(this,t,n,r,"string")).$input=document.createElement("input"),o.$input.setAttribute("type","text"),o.$input.setAttribute("aria-labelledby",o.$name.id),o.$input.addEventListener("input",function(){o.setValue(o.$input.value)}),o.$input.addEventListener("keydown",function(e){"Enter"===e.code&&o.$input.blur()}),o.$input.addEventListener("blur",function(){o._callOnFinishChange()}),o.$widget.appendChild(o.$input),o.$disable=o.$input,o.updateDisplay(),o}return n(a,[{key:"updateDisplay",value:function(){return this.$input.value=this.getValue(),this}}]),a}(u),b=!1,w=/*#__PURE__*/function(){function t(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.parent,o=r.autoPlace,l=r.container,s=r.width,u=r.title,c=void 0===u?"Controls":u,h=r.closeFolders,d=r.injectStyles,m=r.touchStyles,p=this;if(e(this,t),/**
		 * The GUI containing this folder, or `undefined` if this is the root GUI.
		 * @type {GUI}
		 */this.parent=a,/**
		 * The top level GUI containing this folder, or `this` if this is the root GUI.
		 * @type {GUI}
		 */this.root=a?a.root:this,/**
		 * The list of controllers and folders contained by this GUI.
		 * @type {Array<GUI|Controller>}
		 */this.children=[],/**
		 * The list of controllers contained by this GUI.
		 * @type {Array<Controller>}
		 */this.controllers=[],/**
		 * The list of folders contained by this GUI.
		 * @type {Array<GUI>}
		 */this.folders=[],/**
		 * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.
		 * @type {boolean}
		 */this._closed=!1,/**
		 * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.
		 * @type {boolean}
		 */this._hidden=!1,/**
		 * The outermost container element.
		 * @type {HTMLElement}
		 */this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),/**
		 * The DOM element that contains the title.
		 * @type {HTMLElement}
		 */this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",function(){return p.openAnimated(p._closed)}),this.$title.addEventListener("keydown",function(e){("Enter"===e.code||"Space"===e.code)&&(e.preventDefault(),p.$title.click())}),// enables :active pseudo class on mobile
this.$title.addEventListener("touchstart",function(){},{passive:!0}),/**
		 * The DOM element that contains children.
		 * @type {HTMLElement}
		 */this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(c),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);// Stop the constructor early, everything onward only applies to root GUI's
return}this.domElement.classList.add("root"),(void 0===m||m)&&this.domElement.classList.add("allow-touch-styles"),!b&&(void 0===d||d)&&((n=document.createElement("style")).innerHTML='.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n  background: var(--background-color);\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: " ";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: "lil-gui";\n  content: "↕";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: "lil-gui";\n  content: "▾";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: "▸";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: "Empty";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui label, .lil-gui input, .lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n}\n.lil-gui input {\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  width: var(--checkbox-size);\n  height: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: "lil-gui";\n  content: "✓";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: none;\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: "lil-gui";\n  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");\n}',(i=document.querySelector("head link[rel=stylesheet], head style"))?document.head.insertBefore(n,i):document.head.appendChild(n),b=!0),l?l.appendChild(this.domElement):(void 0===o?void 0===a:o)&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),s&&this.domElement.style.setProperty("--width",s+"px"),this._closeFolders=void 0!==h&&h}return n(t,[{/**
	 * Adds a controller to the GUI, inferring controller type using the `typeof` operator.
	 * @example
	 * gui.add( object, 'property' );
	 * gui.add( object, 'number', 0, 100, 1 );
	 * gui.add( object, 'options', [ 1, 2, 3 ] );
	 *
	 * @param {object} object The object the controller will modify.
	 * @param {string} property Name of the property to control.
	 * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of
	 * selectable values for a dropdown.
	 * @param {number} [max] Maximum value for number controllers.
	 * @param {number} [step] Step value for number controllers.
	 * @returns {Controller}
	 */key:"add",value:function(e,t,n,i,r){if(Object(n)===n)return new v(this,e,t,n);var a=e[t];switch(void 0===a?"undefined":o(a)){case"number":return new g(this,e,t,n,i,r);case"boolean":return new c(this,e,t);case"string":return new y(this,e,t);case"function":return new f(this,e,t)}console.error("gui.add failed\n	property:",t,"\n	object:",e,"\n	value:",a)}},{/**
	 * Adds a color controller to the GUI.
	 * @example
	 * params = {
	 * 	cssColor: '#ff00ff',
	 * 	rgbColor: { r: 0, g: 0.2, b: 0.4 },
	 * 	customRange: [ 0, 127, 255 ],
	 * };
	 *
	 * gui.addColor( params, 'cssColor' );
	 * gui.addColor( params, 'rgbColor' );
	 * gui.addColor( params, 'customRange', 255 );
	 *
	 * @param {object} object The object the controller will modify.
	 * @param {string} property Name of the property to control.
	 * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may
	 * need to set this to 255 if your colors are too bright.
	 * @returns {Controller}
	 */key:"addColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new p(this,e,t,n)}},{/**
	 * Adds a folder to the GUI, which is just another GUI. This method returns
	 * the nested GUI so you can add controllers to it.
	 * @example
	 * const folder = gui.addFolder( 'Position' );
	 * folder.add( position, 'x' );
	 * folder.add( position, 'y' );
	 * folder.add( position, 'z' );
	 *
	 * @param {string} title Name to display in the folder's title bar.
	 * @returns {GUI}
	 */key:"addFolder",value:function(e){var n=new t({parent:this,title:e});return this.root._closeFolders&&n.close(),n}},{/**
	 * Recalls values that were saved with `gui.save()`.
	 * @param {object} obj
	 * @param {boolean} recursive Pass false to exclude folders descending from this GUI.
	 * @returns {this}
	 */key:"load",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.controllers&&this.controllers.forEach(function(t){!(t instanceof f)&&t._name in e.controllers&&t.load(e.controllers[t._name])}),t&&e.folders&&this.folders.forEach(function(t){t._title in e.folders&&t.load(e.folders[t._title])}),this}},{/**
	 * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to
	 * recall these values.
	 * @example
	 * {
	 * 	controllers: {
	 * 		prop1: 1,
	 * 		prop2: 'value',
	 * 		...
	 * 	},
	 * 	folders: {
	 * 		folderName1: { controllers, folders },
	 * 		folderName2: { controllers, folders }
	 * 		...
	 * 	}
	 * }
	 *
	 * @param {boolean} recursive Pass false to exclude folders descending from this GUI.
	 * @returns {object}
	 */key:"save",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t={controllers:{},folders:{}};return this.controllers.forEach(function(e){if(!(e instanceof f)){if(e._name in t.controllers)throw Error('Cannot save GUI with duplicate property "'.concat(e._name,'"'));t.controllers[e._name]=e.save()}}),e&&this.folders.forEach(function(e){if(e._title in t.folders)throw Error('Cannot save GUI with duplicate folder "'.concat(e._title,'"'));t.folders[e._title]=e.save()}),t}},{/**
	 * Opens a GUI or folder. GUI and folders are open by default.
	 * @param {boolean} open Pass false to close.
	 * @returns {this}
	 * @example
	 * gui.open(); // open
	 * gui.open( false ); // close
	 * gui.open( gui._closed ); // toggle
	 */key:"open",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}},{/**
	 * Closes the GUI.
	 * @returns {this}
	 */key:"close",value:function(){return this.open(!1)}},{key:"_setClosed",value:function(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}},{/**
	 * Shows the GUI after it's been hidden.
	 * @param {boolean} show
	 * @returns {this}
	 * @example
	 * gui.show();
	 * gui.show( false ); // hide
	 * gui.show( gui._hidden ); // toggle
	 */key:"show",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}},{/**
	 * Hides the GUI.
	 * @returns {this}
	 */key:"hide",value:function(){return this.show(!1)}},{key:"openAnimated",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=this;return(// set state immediately
this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),// wait for next frame to measure $children
requestAnimationFrame(function(){// explicitly set initial height for transition
var n=t.$children.clientHeight;t.$children.style.height=n+"px",t.domElement.classList.add("transition");var i=function(e){e.target===t.$children&&(t.$children.style.height="",t.domElement.classList.remove("transition"),t.$children.removeEventListener("transitionend",i))};t.$children.addEventListener("transitionend",i);// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight
var r=e?t.$children.scrollHeight:0;t.domElement.classList.toggle("closed",!e),requestAnimationFrame(function(){t.$children.style.height=r+"px"})}),this)}},{/**
	 * Change the title of this GUI.
	 * @param {string} title
	 * @returns {this}
	 */key:"title",value:function(e){return(/**
		 * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.
		 * @type {string}
		 */this._title=e,this.$title.innerHTML=e,this)}},{/**
	 * Resets all controllers to their initial values.
	 * @param {boolean} recursive Pass false to exclude folders descending from this GUI.
	 * @returns {this}
	 */key:"reset",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(e?this.controllersRecursive():this.controllers).forEach(function(e){return e.reset()}),this}},{/**
	 * Pass a function to be called whenever a controller in this GUI changes.
	 * @param {function({object:object, property:string, value:any, controller:Controller})} callback
	 * @returns {this}
	 * @example
	 * gui.onChange( event => {
	 * 	event.object     // object that was modified
	 * 	event.property   // string, name of property
	 * 	event.value      // new value of controller
	 * 	event.controller // controller that was modified
	 * } );
	 */key:"onChange",value:function(e){return(/**
		 * Used to access the function bound to `onChange` events. Don't modify this value
		 * directly. Use the `gui.onChange( callback )` method instead.
		 * @type {Function}
		 */this._onChange=e,this)}},{key:"_callOnChange",value:function(e){this.parent&&this.parent._callOnChange(e),void 0!==this._onChange&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}},{/**
	 * Pass a function to be called whenever a controller in this GUI has finished changing.
	 * @param {function({object:object, property:string, value:any, controller:Controller})} callback
	 * @returns {this}
	 * @example
	 * gui.onFinishChange( event => {
	 * 	event.object     // object that was modified
	 * 	event.property   // string, name of property
	 * 	event.value      // new value of controller
	 * 	event.controller // controller that was modified
	 * } );
	 */key:"onFinishChange",value:function(e){return(/**
		 * Used to access the function bound to `onFinishChange` events. Don't modify this value
		 * directly. Use the `gui.onFinishChange( callback )` method instead.
		 * @type {Function}
		 */this._onFinishChange=e,this)}},{key:"_callOnFinishChange",value:function(e){this.parent&&this.parent._callOnFinishChange(e),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}},{/**
	 * Pass a function to be called when this GUI or its descendants are opened or closed.
	 * @param {function(GUI)} callback
	 * @returns {this}
	 * @example
	 * gui.onOpenClose( changedGUI => {
	 * 	console.log( changedGUI._closed );
	 * } );
	 */key:"onOpenClose",value:function(e){return this._onOpenClose=e,this}},{key:"_callOnOpenClose",value:function(e){this.parent&&this.parent._callOnOpenClose(e),void 0!==this._onOpenClose&&this._onOpenClose.call(this,e)}},{/**
	 * Destroys all DOM elements and event listeners associated with this GUI.
	 */key:"destroy",value:function(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(function(e){return e.destroy()})}},{/**
	 * Returns an array of controllers contained by this GUI and its descendents.
	 * @returns {Controller[]}
	 */key:"controllersRecursive",value:function(){var e=Array.from(this.controllers);return this.folders.forEach(function(t){e=e.concat(t.controllersRecursive())}),e}},{/**
	 * Returns an array of folders contained by this GUI and its descendents.
	 * @returns {GUI[]}
	 */key:"foldersRecursive",value:function(){var e=Array.from(this.folders);return this.folders.forEach(function(t){e=e.concat(t.foldersRecursive())}),e}}]),t}();// auto apply debug gui
if("localhost"==window.location.hostname){var A=new w,k={opacity:100};A.add(k,"opacity",0,100,1).onChange(function(){document.body.style.setProperty("--debug-opacity",k.opacity+"%")})}function T(e,t,n){var i,r,a=document.querySelector(e);if(!a)throw Error("Invalid element for selector: ".concat(e));var o=/** general helper functions */function(e,t){var n=e;do n=n.parentElement;while(n&&!(null==n?void 0:n.matches(".t")))return n}(a,0);if(!o)throw Error("Couldn't find track for selector ".concat(e));var l=new ViewTimeline({subject:o});a.animate(t,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},n),r=r={timeline:l},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))}),i))}!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(function(){var e,n=new WeakMap,r=function(){function e(e,t,i,r){n.set(this,{values:function(e){for(var t,n=[],i=0;i<e.length;i++)n[i]="number"==typeof(t=e[i])?new CSSUnitValue(t,"number"):t;return n}(e),operator:t,name:i||t,delimiter:r||", "})}return e.prototype.toString=function(){var e=n.get(this);return e.name+"("+e.values.join(e.delimiter)+")"},t(e,[{key:"operator",get:function(){return n.get(this).operator}},{key:"values",get:function(){return n.get(this).values}}]),e}(),a=((e={CSSUnitValue:function(){function e(e,t){n.set(this,{value:e,unit:t})}return e.prototype.toString=function(){var e=n.get(this);return""+e.value+function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(e.unit)},t(e,[{key:"value",get:function(){return n.get(this).value},set:function(e){n.get(this).value=e}},{key:"unit",get:function(){return n.get(this).unit}}]),e}(),CSSKeywordValue:function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.toString()},e}(),CSSMathSum:function(e){function t(t){return e.call(this,arguments,"sum","calc"," + ")||this}return i(t,e),t}(r),CSSMathProduct:function(e){function t(t){return e.call(this,arguments,"product","calc"," * ")||this}return i(t,e),t}(r),CSSMathNegate:function(e){function t(t){return e.call(this,[arguments[0]],"negate","-")||this}return i(t,e),t}(r)}).CSSMathNegate=function(e){function t(t){return e.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return i(t,e),t}(r),e.CSSMathMax=function(e){function t(){return e.call(this,arguments,"max")||this}return i(t,e),t}(r),e.CSSMathMin=function(e){function t(){return e.call(this,arguments,"min")||this}return i(t,e),t}(r),e);if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");for(var o in window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){if(!Reflect.defineProperty(CSS,e,{value:function(t){return new CSSUnitValue(t,e)}}))throw Error("Error installing CSS."+e)}),a)if(!(o in window)&&!Reflect.defineProperty(window,o,{value:a[o]}))throw Error("Error installing CSSOM support for "+o)})(),new CSSKeywordValue("auto");var s=new WeakMap;function u(e){return e===document.scrollingElement?document:e}function c(e){d(e);var t=s.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function h(e,t){if(!e)return null;var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function d(e){if(e instanceof _){var t,n=e.subject;n&&"none"!=getComputedStyle(n).display?m(e,k(n)):m(e,null)}else(t=s.get(e)).anonymousSource&&m(e,y(t.anonymousSource,t.anonymousTarget))}function m(e,t){var n=s.get(e),i=n.source,r=n.scrollListener;if(i!=t&&(i&&r&&u(i).removeEventListener("scroll",r),s.get(e).source=t,t)){var a=function(){c(e)};u(t).addEventListener("scroll",a),n.scrollListener=a}}function p(e,t){for(var n=s.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function f(e,t,n){for(var i=s.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),c(e)}var g=function(){function e(e){s.set(this,{source:null,orientation:"block",anonymousSource:e?e.anonymousSource:null,anonymousTarget:e?e.anonymousTarget:null,subject:null,inset:e?e.inset:null,animations:[],scrollListener:null}),m(this,e&&void 0!==e.source?e.source:document.scrollingElement),this.orientation=e&&e.orientation||"block",c(this)}return t(e,[{key:"source",get:function(){return s.get(this).source},set:function(e){m(this,e),c(this)}},{key:"orientation",get:function(){return s.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");s.get(this).orientation=e,c(this)}},{key:"duration",get:function(){return CSS.percent(100)}},{key:"phase",get:function(){var e=this.source;if(!e)return"inactive";var t=getComputedStyle(e);return"none"==t.display?"inactive":e==document.scrollingElement||"visible"!=t.overflow&&"clip"!=t.overflow?"active":"inactive"}},{key:"currentTime",get:function(){var e,t,n=this.source;if(!n||"inactive"==this.phase)return null;var i=this.orientation,r=h(n,i),a=(e=i,t="horizontal-tb"==getComputedStyle(n).writingMode,"block"===e?e=t?"vertical":"horizontal":"inline"===e&&(e=t?"horizontal":"vertical"),"vertical"===e?n.scrollHeight-n.clientHeight:"horizontal"===e?n.scrollWidth-n.clientWidth:void 0);return a>0?CSS.percent(100*r/a):CSS.percent(100)}},{key:"__polyfill",get:function(){return!0}}]),e}();function v(e,t){for(var n=e.parentElement;null!=n;){if(t(n))return n;n=n.parentElement}}function y(e,t){return"root"==e?document.scrollingElement:k(t)}function b(e){switch(getComputedStyle(e).display){case"block":case"inline-block":case"list-item":case"table":case"table-caption":case"flow-root":case"flex":case"grid":return!0}return!1}function w(e){var t=getComputedStyle(e);return"none"!=t.transform||"none"!=t.perspective||"transform"==t.willChange||"perspective"==t.willChange||"none"!=t.filter||"filter"==t.willChange||"none"!=t.backdropFilter}function A(e){return"static"!=getComputedStyle(e).position||w(e)}function k(e){if(e){for(;e=function(e){switch(getComputedStyle(e).position){case"static":case"relative":case"sticky":return v(e,b);case"absolute":return v(e,A);case"fixed":return v(e,w)}}(e);)switch(getComputedStyle(e)["overflow-x"]){case"auto":case"scroll":case"hidden":return e==document.body&&"visible"==getComputedStyle(document.scrollingElement).overflow?document.scrollingElement:e}return document.scrollingElement}}function T(e,t){var n=s.get(e);return"inactive"===e.phase?null:e instanceof _?S(t,e.source,e.subject,n.orientation,n.inset):null}function S(e,t,n,i,r){for(var a=0,o=0,l=n,s=t.offsetParent;l&&l!=s;)o+=l.offsetLeft,a+=l.offsetTop,l=l.offsetParent;o-=t.offsetLeft+t.clientLeft,a-=t.offsetTop+t.clientTop;var u=getComputedStyle(t),c="horizontal-tb"==u.writingMode,h=void 0,d=void 0,m=void 0;"horizontal"==i||"inline"==i&&c||"block"==i&&!c?(h=n.clientWidth,d=o,("rtl"==u.direction||"vertical-rl"==u.writingMode)&&(d+=t.scrollWidth-t.clientWidth),m=t.clientWidth):(h=n.clientHeight,d=a,m=t.clientHeight);var p=function(e,t){var n={start:0,end:0};if(!e)return n;var i=e.split(" "),r=[];if(i.forEach(function(e){e.endsWith("%")?r.push(t/100*parseFloat(e)):e.endsWith("px")?r.push(parseFloat(e)):"auto"===e&&r.push(0)}),r.length>2)throw TypeError("Invalid inset");return 1==r.length?(n.start=r[0],n.end=r[0]):2==r.length&&(n.start=r[0],n.end=r[1]),n}(r,m),f=d-m+p.end,g=d+h-p.start,v=f+h,y=g-h,b=Math.min(v,y),w=Math.max(v,y),A=void 0,k=void 0;switch(e){case"cover":A=f,k=g;break;case"contain":A=b,k=w;break;case"enter":A=f,k=b;break;case"exit":A=w,k=g}return{start:A,end:k}}function x(e,t,n){return E(T(e,t),n,T(e,"cover"))}function E(e,t,n){return e&&n?(t.value/100*(e.end-e.start)+e.start-n.start)/(n.end-n.start):0}var _=function(e){function n(t){var n;return t.axis&&(t.orientation=t.axis),n=e.call(this,t)||this,s.get(a(n)).subject=t&&t.subject?t.subject:void 0,d(a(n)),c(a(n)),n}return i(n,e),t(n,[{key:"source",get:function(){return d(this),s.get(this).source},set:function(e){throw Error("Cannot set the source of a view timeline")}},{key:"subject",get:function(){return s.get(this).subject}},{key:"axis",get:function(){return s.get(this).orientation}},{key:"currentTime",get:function(){var e=h(this.source,this.orientation);if(null==e)return null;var t=T(this,"cover");return t?CSS.percent((e-t.start)/(t.end-t.start)*100):null}}]),n}(g),C=window.Element.prototype.animate,I=window.Animation,M=["enter","exit","cover","contain"],O=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function $(e){e.readyPromise=new O,requestAnimationFrame(function(){null!==e.timeline.currentTime&&K(e)})}function L(){return new DOMException("The user aborted a request","AbortError")}function P(e,t){if(null===t)return t;if("number"!=typeof t)throw new DOMException("Unexpected value: "+t+".  Cannot convert to CssNumberish","InvalidStateError");var n=z(e);return CSS.percent(n?100*t/n:0)}function N(e,t){if(e.timeline){if(null===t)return t;if("percent"===t.unit){var n=z(e);return t.value*n/100}throw new DOMException("CSSNumericValue must be a percentage for progress based animations.","NotSupportedError")}if(null==t||"number"==typeof t)return t;var i=t.to("ms");if(convertTime)return i.value;throw new DOMException("CSSNumericValue must be either a number or a time value for time based animations.","InvalidStateError")}function R(e){if(e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState){e.finishedPromise.resolve(e.proxy),e.animation.pause();var t=new CustomEvent("finish",{detail:{currentTime:e.proxy.currentTime,timelineTime:e.proxy.timeline.currentTime}});Object.defineProperty(t,"currentTime",{get:function(){return this.detail.currentTime}}),Object.defineProperty(t,"timelineTime",{get:function(){return this.detail.timelineTime}}),requestAnimationFrame(function(){queueMicrotask(function(){e.animation.dispatchEvent(t)})})}}function j(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function D(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function V(e){if(!e.timeline)return null;var t=N(e,e.timeline.currentTime);if(null===t||null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return -0==n&&(n=0),n}function F(e,t){if(!e.timeline)return null;var n=N(e,e.timeline.currentTime);return null==n?null:n-t/e.animation.playbackRate}function W(e,t,n){if(e.timeline){var i=t?N(e,e.proxy.currentTime):V(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=j(e),a=z(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=F(e,e.holdTime)),e.holdTime=null)}H(e),e.previousCurrentTime=N(e,e.proxy.currentTime),"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new O),"pending"==e.finishedPromise.state&&(n?R(e):Promise.resolve().then(function(){R(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new O),"paused"!=e.animation.playState&&e.animation.pause())}}function z(e){var t,n=(t=e.proxy.effect.getTiming(),e.normalizedTiming||t);return Math.max(0,n.delay+n.endDelay+n.iterations*n.duration)}function H(e){if(e.timeline){if(null!==e.startTime){var t=e.timeline.currentTime;null!=t&&B(e,(N(e,t)-e.startTime)*e.animation.playbackRate)}else null!==e.holdTime&&B(e,e.holdTime)}}function B(e,t){var n=e.timeline,i=e.animation.playbackRate;e.animation.currentTime=t+(n.currentTime&&n.currentTime.value==(i<0?0:100)?i<0?.001:-.001:0)}function Y(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=N(e,e.proxy.currentTime);e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=j(e),l=z(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(1/0==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,D(e)),f(e.timeline,e.animation,G.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),H(e),e.readyPromise||$(e),e.pendingTask="play",W(e,!1,!1))}}function G(e){var t=U.get(this);if(null!=e){t.pendingTask&&K(t);var n=this.playState;"running"!=n&&"finished"!=n||(B(t,(N(t,e)-N(t,this.startTime))*this.playbackRate),"finished"==n&&0!=j(t)&&(t.holdTime=null),W(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function K(e){var t;"pause"==e.pendingTask?(t=N(e,e.timeline.currentTime),null!=e.startTime&&null==e.holdTime&&(e.holdTime=(t-e.startTime)*e.animation.playbackRate),D(e),e.startTime=null,e.readyPromise.resolve(e.proxy),W(e,!1,!1),H(e),e.pendingTask=null):"play"==e.pendingTask&&function(e){var t=N(e,e.timeline.currentTime);if(null!=e.holdTime)D(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;D(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),W(e,!1,!1),H(e),e.pendingTask=null}(e)}var U=new WeakMap,X=function(){function e(e,t,n){void 0===n&&(n={});var i,r,a=e instanceof I?e:new I(e,l),o=t instanceof g,l=o?void 0:t;U.set(this,{animation:a,timeline:o?t:void 0,playState:o?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,specifiedTiming:null,normalizedTiming:null,effect:null,timeRange:t instanceof ViewTimeline?(r=Z((i=n)["animation-time-range"]),i["animation-delay"]&&(r.start=J(i["animation-delay"],Q().offset)),i["animation-end-delay"]&&(r.end=J(i["animation-end-delay"],q().offset)),r):null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=U.get(this);if(e.timeline){var t=j(e),n=z(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&1/0==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");D(e);var i=t<0?0:n;this.currentTime=P(e,i);var r=N(e,e.timeline.currentTime);null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),W(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=U.get(this);e.timeline?Y(e,!0):e.animation.play()},n.pause=function(){var e=U.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=z(e);if(null===e.animation.currentTime){if(n>=0)t=0;else{if(1/0==i)return void e.animation.pause();t=i}}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||$(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=U.get(this),t=j(e),n=e.resetCurrentTimeOnResume?null:N(e,this.currentTime),i=1/0==z(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-j(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),Y(e,!0)},n.updatePlaybackRate=function(e){var t=U.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":D(t);break;case"finished":var n=N(t,t.timeline.currentTime),i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,D(t),W(t,!1,!1),H(t);break;default:Y(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){U.get(this).animation.persist()},n.cancel=function(){var e=U.get(this);e.timeline?("idle"!=this.playState&&(e.pendingTask&&(e.pendingTask=null,D(e),e.readyPromise.reject(L()),$(e),e.readyPromise.resolve(e.proxy)),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(L()),e.finishedPromise=new O,e.animation.cancel()),e.startTime=null,e.holdTime=null,p(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){U.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){U.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){U.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){var e,t,n,i=U.get(this);return i.timeline?(i.effect||(i.effect=(t=(e=i.animation.effect).updateTiming,(n=new Proxy(e,{get:function(t,n){var i=t[n];return"function"==typeof i?i.bind(e):i},set:function(e,t,n){return e[t]=n,!0}})).getComputedTiming=new Proxy(e.getComputedTiming,{apply:function(t){e.getTiming();var n=t.apply(e);if(i.timeline){n.localTime=P(i,n.localTime),n.endTime=P(i,n.endTime),n.activeDuration=P(i,n.activeDuration);var r=z(i);n.duration=r?CSS.percent(100*(n.iterations?(r-n.delay-n.endDelay)/n.iterations:0)/r):CSS.percent(0),void 0===i.timeline.currentTime&&(n.localTime=null)}return n}}),n.getTiming=new Proxy(e.getTiming,{apply:function(n,r){if(i.specifiedTiming)return i.specifiedTiming;i.specifiedTiming=n.apply(e);var a,o,l=Object.assign({},i.specifiedTiming),s=!1;return i.timeline instanceof ViewTimeline&&(a=function(e){if(!(e.timeline instanceof ViewTimeline))return 0;var t=e.timeRange.start;return x(e.timeline,t.name,t.offset)}(i),o=function(e){if(!(e.timeline instanceof ViewTimeline))return 0;var t=e.timeRange.end;return 1-x(e.timeline,t.name,t.offset)}(i),s=!0),(null===l.duration||"auto"===l.duration||s)&&i.timeline&&(s?(l.delay=1e5*a,l.endDelay=1e5*o):(l.delay=0,l.endDelay=0),l.duration=l.iterations?((l.iterations?1e5:0)-l.delay-l.endDelay)/l.iterations:0,t.apply(e,[l])),i.normalizedTiming=l,i.specifiedTiming}}),n.updateTiming=new Proxy(e.updateTiming,{apply:function(t,n,r){if(i.timeline){var a=r[0];if(1/0===a.duration)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");if(1/0===a.iterations)throw TypeError("Effect iterations cannot be Infinity when used with Scroll Timelines")}i.specifiedTiming&&t.apply(e,[i.specifiedTiming]),t.apply(e,r),i.specifiedTiming=null}}),n)),i.effect):i.animation.effect},set:function(e){U.get(this).animation.effect=e,details.effect=null}},{key:"timeline",get:function(){var e=U.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=U.get(this),a=z(r),o=a>0?N(r,i)/a:0,l=t instanceof g,s=e instanceof g;r.resetCurrentTimeOnResume=!1;var u=this.pending;if(l&&p(r.timeline,r.animation),s){r.timeline=e,D(r);var c=r.animation.playbackRate>=0?0:z(r);switch(n){case"running":case"finished":r.startTime=c,f(r.timeline,r.animation,G.bind(this));break;case"paused":r.resetCurrentTimeOnResume=!0,r.startTime=null,r.holdTime=N(r,CSS.percent(100*o));break;default:r.holdTime=null,r.startTime=null}return u&&(r.readyPromise&&"resolved"!=r.readyPromise.state||$(r),r.pendingTask="paused"==n?"pause":"play"),null!==r.startTime&&(r.holdTime=null),void W(r,!1,!1)}if(r.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(p(r.timeline,r.animation),r.timeline=null,l)switch(null!==i&&(r.animation.currentTime=o*z(r)),n){case"paused":r.animation.pause();break;case"running":case"finished":r.animation.play()}}}},{key:"startTime",get:function(){var e=U.get(this);return e.timeline?P(e,e.startTime):e.animation.startTime},set:function(e){var t=U.get(this);if(e=N(t,e),t.timeline){null==N(t,t.timeline.currentTime)&&null!=t.startTime&&(t.holdTime=null,H(t));var n=N(t,this.currentTime);D(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),W(t,!0,!1),H(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=U.get(this);return e.timeline?P(e,null!=e.holdTime?e.holdTime:V(e)):e.animation.currentTime},set:function(e){var t=U.get(this);if(e=N(t,e),t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=F(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,D(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),W(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return U.get(this).animation.playbackRate},set:function(e){var t=U.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=U.get(this);if(!e.timeline)return e.animation.playState;var t=N(e,this.currentTime);return null===t&&null===e.startTime&&null==e.pendingTask?"idle":"pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask?"paused":null!=t&&(e.animation.playbackRate>0&&t>=z(e)||e.animation.playbackRate<0&&t<=0)?"finished":"running"}},{key:"replaceState",get:function(){return U.get(this).animation.pending}},{key:"pending",get:function(){var e=U.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return U.get(this).animation.id}},{key:"onfinish",get:function(){return U.get(this).animation.onfinish},set:function(e){U.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return U.get(this).animation.oncancel},set:function(e){U.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return U.get(this).animation.onremove},set:function(e){U.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=U.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new O),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=U.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new O,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}();function J(e,t){if(!e)return null;var n=e.split(" ");if(!M.includes(n[0])||2==n.length&&!n[1].endsWith("%"))throw TypeError("Invalid animation delay");var i=t;if(2==n.length){var r=parseFloat(n[1]);if(Number.isNaN(r))throw TypeError('"'+n[1]+'" is not a valid percentage for animation delay');i=CSS.percent(r)}return{name:n[0],offset:i}}function Q(){return{name:"cover",offset:CSS.percent(0)}}function q(){return{name:"cover",offset:CSS.percent(100)}}function Z(e){var t={start:Q(),end:q()};if(!e)return t;var n=e.split(" "),i=[],r=[];if(n.forEach(function(e){e.endsWith("%")?r.push(parseFloat(e)):i.push(e)}),i.length>2||r.length>2||1==r.length)throw TypeError("Invalid time range");return i.length&&(t.start.name=i[0],t.end.name=i.length>1?i[1]:i[0]),r.length>1&&(t.start.offset=CSS.percent(r[0]),t.end.offset=CSS.percent(r[1])),t}var ee={IDENTIFIER:/[\w\\\@_-]+/g,WHITE_SPACE:/\s*/g,TIME:/^[0-9]+(s|ms)/,SCROLL_TIMELINE:/scroll-timeline\s*:([^;}]+)/,SCROLL_TIMELINE_NAME:/scroll-timeline-name\s*:([^;}]+)/,SCROLL_TIMELINE_AXIS:/scroll-timeline-axis\s*:([^;}]+)/,VIEW_TIMELINE:/view-timeline\s*:([^;}]+)/,VIEW_TIMELINE_NAME:/view-timeline-name\s*:([^;}]+)/,VIEW_TIMELINE_AXIS:/view-timeline-axis\s*:([^;}]+)/,VIEW_TIMELINE_INSET:/view-timeline-inset\s*:([^;}]+)/,ANIMATION_TIMELINE:/animation-timeline\s*:([^;}]+)/,ANIMATION_DELAY:/animation-delay\s*:([^;}]+)/,ANIMATION_END_DELAY:/animation-end-delay\s*:([^;}]+)/,ANIMATION_TIME_RANGE:/animation-time-range\s*:([^;}]+)/,ANIMATION_NAME:/animation-name\s*:([^;}]+)/,ANIMATION:/animation\s*:([^;}]+)/,ANONYMOUS_SCROLL:/scroll\(([^)]*)\)/},et=["block","inline","vertical","horizontal"],en=["nearest","root"],ei=new(function(){function e(){this.cssRulesWithTimelineName=[],this.nextAnonymousTimelineNameIndex=0,this.anonymousScrollTimelineOptions=new Map,this.sourceSelectorToScrollTimeline=[],this.subjectSelectorToViewTimeline=[],this.keyframeNamesSelectors=new Map}var t=e.prototype;return t.transpileStyleSheet=function(e,t,n){for(var i={sheetSrc:e,index:0,name:n};i.index<i.sheetSrc.length&&(this.eatWhitespace(i),!(i.index>=i.sheetSrc.length));)if(this.lookAhead("/*",i))for(;this.lookAhead("/*",i);)this.eatComment(i),this.eatWhitespace(i);else{var r=this.parseQualifiedRule(i);r&&(t?this.parseKeyframesAndSaveNameMapping(r,i):this.handleScrollTimelineProps(r,i))}return i.sheetSrc},t.getAnimationTimelineOptions=function(e,t){for(var n=this.cssRulesWithTimelineName.length-1;n>=0;n--){var i=this.cssRulesWithTimelineName[n];if(t.matches(i.selector)&&(!i["animation-name"]||i["animation-name"]==e))return{"animation-timeline":i["animation-timeline"],"animation-delay":i["animation-delay"],"animation-end-delay":i["animation-end-delay"],"animation-time-range":i["animation-time-range"]}}return null},t.getAnonymousScrollTimelineOptions=function(e,t){var n=this.anonymousScrollTimelineOptions.get(e);return n?{anonymousSource:n.source,anonymousTarget:t,source:y(n.source,t),orientation:n.orientation?n.orientation:"block"}:null},t.getScrollTimelineOptions=function(e,t){var i=this.getAnonymousScrollTimelineOptions(e,t);if(i)return i;for(var r=this.sourceSelectorToScrollTimeline.length-1;r>=0;r--){var a=this.sourceSelectorToScrollTimeline[r];if(a.name==e){var o=this.findPreviousSiblingOrAncestorMatchingSelector(t,a.selector);if(o)return n({source:o},a.axis?{orientation:a.axis}:{})}}return null},t.findPreviousSiblingOrAncestorMatchingSelector=function(e,t){for(var n=e;n;){if(n.matches(t))return n;n=n.previousElementSibling||n.parentElement}return null},t.getViewTimelineOptions=function(e,t){for(var n=this.subjectSelectorToViewTimeline.length-1;n>=0;n--){var i=this.subjectSelectorToViewTimeline[n];if(i.name==e){var r=this.findPreviousSiblingOrAncestorMatchingSelector(t,i.selector);if(r)return{subject:r,axis:i.axis,inset:i.inset}}}return null},t.parseScrollTimeline=function(e){var t=e.index;this.assertString(e,"@scroll-timeline"),this.eatWhitespace(e);var n=this.parseIdentifier(e);this.eatWhitespace(e),this.assertString(e,"{"),this.eatWhitespace(e);for(var i={name:n,source:"auto",orientation:void 0};"}"!==this.peek(e);){var r=this.parseIdentifier(e);this.eatWhitespace(e),this.assertString(e,":"),this.eatWhitespace(e),i[r]=this.removeEnclosingDoubleQuotes(this.eatUntil(";",e)),this.assertString(e,";"),this.eatWhitespace(e)}this.assertString(e,"}");var a=e.index;return this.eatWhitespace(e),{scrollTimeline:i,startIndex:t,endIndex:a}},t.handleScrollTimelineProps=function(e,t){var n=this;if(!e.selector.includes("@keyframes")){var i=e.block.contents.includes("animation-name:"),r=e.block.contents.includes("animation-timeline:"),a=e.block.contents.includes("animation:");this.saveSourceSelectorToScrollTimeline(e),this.saveSubjectSelectorToViewTimeline(e);var o=[],l=[],s=!1;r&&(o=this.extractScrollTimelineNames(e.block.contents)),i&&(l=this.extractMatches(e.block.contents,ee.ANIMATION_NAME)),r&&i||(a&&this.extractMatches(e.block.contents,ee.ANIMATION).forEach(function(t){var i=n.extractTimelineName(t);i.timelineName&&o.push(i.timelineName);var a=n.extractAnimationName(t);a&&(i.timelineName||r)&&l.push(a),(i.timelineName||r)&&(n.hasDuration(t)||(e.block.contents=e.block.contents.replace(t," 1s "+t),s=!0)),i.toBeReplaced&&(e.block.contents=e.block.contents.replace(i.toBeReplaced," ".repeat(i.toBeReplaced.length)),s=!0)}),s&&this.replacePart(e.block.startIndex,e.block.endIndex,e.block.contents,t)),this.saveRelationInList(e,o,l)}},t.saveSourceSelectorToScrollTimeline=function(e){var t,n=e.block.contents.includes("scroll-timeline:"),i=e.block.contents.includes("scroll-timeline-name:"),r=e.block.contents.includes("scroll-timeline-axis:");if(n||i){var a=[];if(n)for(var o,s=l(this.extractMatches(e.block.contents,ee.SCROLL_TIMELINE));!(o=s()).done;){parts=this.split(o.value);var u={selector:e.selector,name:""};1==parts.length?u.name=parts[0]:2==parts.length&&(et.includes(parts[0])?(u.axis=parts[0],u.name=parts[1]):(u.axis=parts[1],u.name=parts[0])),a.push(u)}if(i)for(var c=this.extractMatches(e.block.contents,ee.SCROLL_TIMELINE_NAME),h=0;h<c.length;h++)h<a.length?a[h].name=c[h]:a.push({selector:e.selector,name:c[h]});var d=[];r&&(d=(d=this.extractMatches(e.block.contents,ee.SCROLL_TIMELINE_AXIS)).filter(function(e){return et.includes(e)}));for(var m=0;m<a.length;m++)d.length&&(a[m].axis=d[m%a.length]);(t=this.sourceSelectorToScrollTimeline).push.apply(t,a)}},t.saveSubjectSelectorToViewTimeline=function(e){var t,n=e.block.contents.includes("view-timeline:"),i=e.block.contents.includes("view-timeline-name:"),r=e.block.contents.includes("view-timeline-axis:"),a=e.block.contents.includes("view-timeline-inset:");if(n||i){var o=[];if(n)for(var s,u=l(this.extractMatches(e.block.contents,ee.VIEW_TIMELINE));!(s=u()).done;){parts=this.split(s.value);var c={selector:e.selector,name:"",inset:null};1==parts.length?c.name=parts[0]:2==parts.length&&(et.includes(parts[0])?(c.axis=parts[0],c.name=parts[1]):(c.axis=parts[1],c.name=parts[0])),o.push(c)}if(i)for(var h=this.extractMatches(e.block.contents,ee.VIEW_TIMELINE_NAME),d=0;d<h.length;d++)d<o.length?o[d].name=h[d]:o.push({selector:e.selector,name:h[d],inset:null});var m=[],p=[];a&&(m=this.extractMatches(e.block.contents,ee.VIEW_TIMELINE_INSET)),r&&(p=(p=this.extractMatches(e.block.contents,ee.VIEW_TIMELINE_AXIS)).filter(function(e){return et.includes(e)}));for(var f=0;f<o.length;f++)m.length&&(o[f].inset=m[f%o.length]),p.length&&(o[f].axis=p[f%o.length]);(t=this.subjectSelectorToViewTimeline).push.apply(t,o)}},t.hasDuration=function(e){return e.split(" ").filter(function(e){return ee.TIME.exec(e)}).length>=1},t.saveRelationInList=function(e,t,i){var r=e.block.contents.includes("animation-delay:"),a=e.block.contents.includes("animation-end-delay:"),o=e.block.contents.includes("animation-time-range:"),l=[],s=[],u=[];r&&(l=this.extractMatches(e.block.contents,ee.ANIMATION_DELAY)),a&&(s=this.extractMatches(e.block.contents,ee.ANIMATION_END_DELAY)),o&&(u=this.extractMatches(e.block.contents,ee.ANIMATION_TIME_RANGE));for(var c=Math.max(t.length,i.length,l.length,s.length,u.length),h=0;h<c;h++)this.cssRulesWithTimelineName.push(n({selector:e.selector,"animation-timeline":t[h%t.length]},i.length?{"animation-name":i[h%i.length]}:{},l.length?{"animation-delay":l[h%l.length]}:{},s.length?{"animation-end-delay":s[h%s.length]}:{},u.length?{"animation-time-range":u[h%u.length]}:{}))},t.extractScrollTimelineNames=function(e){var t=this,n=ee.ANIMATION_TIMELINE.exec(e)[1].trim(),i=[];return n.split(",").map(function(e){return e.trim()}).forEach(function(e){if(e.startsWith("scroll")&&e.includes("(")){var n=t.saveAnonymousTimelineName(e);i.push(n)}else i.push(e)}),i},t.saveAnonymousTimelineName=function(e){var t=":t"+this.nextAnonymousTimelineNameIndex++;return this.anonymousScrollTimelineOptions.set(t,this.parseAnonymousTimeline(e)),t},t.parseAnonymousTimeline=function(e){var t=ee.ANONYMOUS_SCROLL.exec(e);if(!t)return null;var n={};return t[1].split(" ").forEach(function(e){et.includes(e)?n.orientation=e:en.includes(e)&&(n.source=e)}),n},t.extractAnimationName=function(e){return this.findMatchingEntryInContainer(e,this.keyframeNamesSelectors)},t.extractTimelineName=function(e){var t=null,n=null,i=ee.ANONYMOUS_SCROLL.exec(e);if(i){var r=i[0];t=this.saveAnonymousTimelineName(r),n=r}else n=t=this.findMatchingEntryInContainer(e,new Set(this.sourceSelectorToScrollTimeline.map(function(e){return e.name})))||this.findMatchingEntryInContainer(e,new Set(this.subjectSelectorToViewTimeline.map(function(e){return e.name})));return{timelineName:t,toBeReplaced:n}},t.findMatchingEntryInContainer=function(e,t){var n=e.split(" ").filter(function(e){return t.has(e)});return n?n[0]:null},t.parseIdentifier=function(e){ee.IDENTIFIER.lastIndex=e.index;var t=ee.IDENTIFIER.exec(e.sheetSrc);if(!t)throw this.parseError(e,"Expected an identifier");return e.index+=t[0].length,t[0]},t.parseKeyframesAndSaveNameMapping=function(e,t){var n=this;if(e.selector.startsWith("@keyframes")){var i=this.replaceKeyframesAndGetMapping(e,t);e.selector.split(" ").forEach(function(e,t){t>0&&n.keyframeNamesSelectors.set(e,i)})}},t.replaceKeyframesAndGetMapping=function(e,t){var n=e.block.contents,i=function(e){for(var t=0,n=-1,i=[],r=0;r<e.length;r++)"{"==e[r]?t++:"}"==e[r]&&t--,1==t&&"{"!=e[r]&&"}"!=e[r]&&-1==n&&(n=r),2==t&&"{"==e[r]&&(i.push({start:n,end:r}),n=-1);return i}(n);if(0==i.length)return new Map;var r=new Map,a=!1,o=[];o.push(n.substring(0,i[0].start));for(var l=0;l<i.length;l++)(function(e){var t=n.substring(i[e].start,i[e].end),l=[];t.split(",").forEach(function(e){var t=e.split(" ").map(function(e){return e.trim()}).filter(function(e){return""!=e}).join(" "),n=r.size;r.set(n,t),l.push(n+"%"),M.some(function(e){return t.startsWith(e)})&&(a=!0)}),o.push(l.join(",")),o.push(e==i.length-1?n.substring(i[e].end):n.substring(i[e].end,i[e+1].start))})(l);return a?(e.block.contents=o.join(""),this.replacePart(e.block.startIndex,e.block.endIndex,e.block.contents,t),r):new Map},t.parseQualifiedRule=function(e){var t=e.index,n=this.parseSelector(e).trim();if(n)return{selector:n,block:this.eatBlock(e),startIndex:t,endIndex:e.index}},t.removeEnclosingDoubleQuotes=function(e){return e.substring('"'==e[0]?1:0,'"'==e[e.length-1]?e.length-1:e.length)},t.assertString=function(e,t){if(e.sheetSrc.substr(e.index,t.length)!=t)throw this.parseError(e,"Did not find expected sequence "+t);e.index+=t.length},t.replacePart=function(e,t,n,i){i.sheetSrc=i.sheetSrc.slice(0,e)+n+i.sheetSrc.slice(t),i.index>=t&&(i.index=e+n.length+(i.index-t))},t.eatComment=function(e){this.assertString(e,"/*"),this.eatUntil("*/",e,!0),this.assertString(e,"*/")},t.eatBlock=function(e){var t=e.index;this.assertString(e,"{");for(var n=1;0!=n;)this.lookAhead("/*",e)?this.eatComment(e):("{"===e.sheetSrc[e.index]?n++:"}"===e.sheetSrc[e.index]&&n--,this.advance(e));var i=e.index;return{startIndex:t,endIndex:i,contents:e.sheetSrc.slice(t,i)}},t.advance=function(e){if(e.index++,e.index>e.sheetSrc.length)throw this.parseError(e,"Advanced beyond the end")},t.eatUntil=function(e,t,n){void 0===n&&(n=!1);for(var i=t.index;!this.lookAhead(e,t);)this.advance(t);return n&&(t.sheetSrc=t.sheetSrc.slice(0,i)+" ".repeat(t.index-i)+t.sheetSrc.slice(t.index)),t.sheetSrc.slice(i,t.index)},t.parseSelector=function(e){var t=e.index;if(this.eatUntil("{",e),t===e.index)throw Error("Empty selector");return e.sheetSrc.slice(t,e.index)},t.eatWhitespace=function(e){ee.WHITE_SPACE.lastIndex=e.index;var t=ee.WHITE_SPACE.exec(e.sheetSrc);t&&(e.index+=t[0].length)},t.lookAhead=function(e,t){return t.sheetSrc.substr(t.index,e.length)==e},t.peek=function(e){return e.sheetSrc[e.index]},t.extractMatches=function(e,t,n){return void 0===n&&(n=","),t.exec(e)[1].trim().split(n).map(function(e){return e.trim()})},t.split=function(e){return e.split(" ").map(function(e){return e.trim()}).filter(function(e){return""!=e})},e}());if(function(){if(!CSS.supports("animation-timeline: works")){!function(){function e(e){if(0!==e.innerHTML.trim().length){var t=ei.transpileStyleSheet(e.innerHTML,!0);t=ei.transpileStyleSheet(t,!1),e.innerHTML=t}}new MutationObserver(function(t){for(var n,i=l(t);!(n=i()).done;)for(var r,a=l(n.value.addedNodes);!(r=a()).done;){var o=r.value;o instanceof HTMLStyleElement&&e(o)}}).observe(document.documentElement,{childList:!0,subtree:!0}),document.querySelectorAll("style").forEach(function(t){return e(t)}),document.querySelectorAll("link").forEach(function(e){})}();var e=new WeakMap;window.addEventListener("animationstart",function(t){t.target.getAnimations().filter(function(e){return e.animationName===t.animationName}).forEach(function(n){e.has(t.target)||e.set(t.target,new Map);var i=e.get(t.target);if(!i.has(n.animationName)){var r=function(e,t,n){var i=ei.getAnimationTimelineOptions(t,n);if(!i)return null;var r=i["animation-timeline"];if(!r)return null;var a=ei.getScrollTimelineOptions(r,n)||ei.getViewTimelineOptions(r,n);return a?(a.subject&&function(e,t){var n=k(t.subject),i=t.axis||t.orientation,r=ei.keyframeNamesSelectors.get(e.animationName);if(r&&r.size){var a=[];e.effect.getKeyframes().forEach(function(e){var o=function(e,r){for(var a,o=null,s=l(e);!(a=s()).done;){var u=a.value,c=u[1];if(u[0]==100*r.offset){if("from"==c)o=0;else if("to"==c)o=100;else{var h,d,m,p,f=c.split(" ");o=1==f.length?parseFloat(f[0]):100*(h=f[0],d=t.subject,m=t.inset,p=CSS.percent(parseFloat(f[1])),E(S(h,n,d,i,m),p,S("cover",n,d,i,m)))}break}}return o}(r,e);null!==o&&o>=0&&o<=100&&(e.offset=o/100,a.push(e))});var o=a.sort(function(e,t){return e.offset<t.offset?-1:e.affset>t.offset?1:0});e.effect.setKeyframes(o)}}(e,a),{timeline:a.source?new g(a):new _(a),animOptions:i}):null}(n,n.animationName,t.target);i.set(n.animationName,r&&r.timeline&&n.timeline!=r.timeline?new X(n,r.timeline,r.animOptions):null)}var a=i.get(n.animationName);null!==a&&(n.pause(),a.play())})})}}(),[].concat(document.styleSheets).filter(function(e){return null!==e.href}).length&&console.warn("Non-Inline StyleSheets detected: ScrollTimeline polyfill currently only supports inline styles within style tags"),!Reflect.defineProperty(window,"ScrollTimeline",{value:g}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(window,"ViewTimeline",{value:_}))throw Error("Error installing ViewTimeline polyfill: could not attach ViewTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof g&&delete t.timeline;var i=function(e,t){if(t in e){var n=e[t];return"number"!=typeof n?(delete e[t],n):null}},r=function(e,t){t&&(t.phase&&(e.name=t.phase),t.percent&&(e.offset=t.percent))},a=i(t,"delay"),o=i(t,"endDelay"),l=C.apply(this,[e,t]),s=new X(l,n);if(n instanceof g){if(l.pause(),n instanceof ViewTimeline){var u=U.get(s);u.timeRange=Z(t.timeRange),r(u.timeRange.start,a),r(u.timeRange.end,o)}s.play()}return s}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:X}))throw Error("Error installing Animation constructor.")}(),T(".tagline",{visibility:["hidden","visible","visible","visible","hidden"],opacity:[0,1,1,1,0]},{timeRange:"exit 0% 80%",fill:"both",easing:"ease-in"}),T("#logo",{width:["100vmin","100px"]},{timeRange:"exit 40% 80%",fill:"both",easing:"linear"}),T(".logoWrap",{height:["80lvh","100px"]},{timeRange:"exit 60% 100%",fill:"both",easing:"linear"}),T(".upcomingCover",[{visibility:"visible",opacity:1},{visibility:"hidden",opacity:0}],{timeRange:"exit 40% 100%",fill:"both",easing:"linear"}),T(".posters",// { marginTop: ["0%", "-120%"] },
{marginTop:["-25lvh","25lvh"]},{timeRange:"cover 0% 100%",fill:"both",easing:"linear"});//   ".upcoming",
//   { marginTop: ["20lvh", "-10lvh"]},
//   { timeRange: "contain -120% 20%", fill: "both", easing: "ease-out" }
// )
// animate(
//   ".splash",
//   { position: ["fixed", "relative"], translate: ["", "0 24lvh"] },
//   { timeRange: "exit 0% 30%", fill: "both", easing: "steps(1)" }
// );
// animate(
//   ".splash",
//   { translate: ["0 24lvh", "0 -20lvh"] },
//   {
//     timeRange: "exit 30% 100%",
//     fill: "forwards",
//     easing: "cubic-bezier(0.3, 0.3, 0.1, 1)",
//   }
// );
// animate(
//   ".upcoming",
//   [
//     { visibility: "hidden", opacity: 0, top: "23lvh" },
//     { visibility: "visible", opacity: 1, top: "16lvh", offset: 0.15 },
//     // { visibility: "visible", opacity: 1, top: "16lvh", offset: 0.6 },
//     // { visibility: "hidden", opacity: 0, top: "-50lvh" },
//     { visibility: "visible", opacity: 1, top: "16lvh" },
//   ],
//   {
//     timeRange: "contain -65% 250%",
//     fill: "both",
//     easing: "linear",
//   }
// );
// // animate(
// //   ".warped1 .mask1",
// //   { "stroke-dashoffset": [0, 200] },
// //   // { "opacity": [0, 1] },
// //   { timeRange: "contain 10% 30%", fill: "both", easing: "linear" }
// // );
// // fade out upcoming header and text
// [".upcoming>h2", ".upcoming .info"].forEach((selector) =>
//   animate(
//     selector,
//     [
//       { visibility: "visible", opacity: 1 },
//       { visibility: "hidden", opacity: 0 },
//     ],
//     { timeRange: "contain 40% 100%", fill: "both", easing: "linear" }
//   )
// );
// // fade out poster slightly later, 'crossfade' to past posters
// animate(".upcoming .poster",
//     [
//       { visibility: "visible", opacity: 1 },
//       { visibility: "hidden", opacity: 0 },
//     ],
//     { timeRange: "contain 120% 160%", fill: "both", easing: "linear" }
// )
// // crossfade in past poster grid
// animate(".past",
//     [
//       { visibility: "hidden", opacity: 0 },
//       { visibility: "visible", opacity: 1 },
//     ],
//     { timeRange: "enter 80% 130%", fill: "both", easing: "linear" }
// )
// // window.addEventListener("load", () => {
// //   const pastEl = document.querySelector(".past")
// //   if (!pastEl) throw new Error("couldn't find pastEl");
// //   pastEl.innerHTML =
// // })
}();